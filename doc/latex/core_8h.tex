\hypertarget{core_8h}{\section{core.\-h File Reference}
\label{core_8h}\index{core.\-h@{core.\-h}}
}


Core functions declaration included.  


{\ttfamily \#include $<$string$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{core_8h_a4366a6a6ce42b7da28efece3406bc93d}{inside} (const std\-::string \&fpt, const std\-::string \&fpoly, const std\-::string \&fo)
\begin{DoxyCompactList}\small\item\em I\-N\-S\-I\-D\-E predicate checking. \end{DoxyCompactList}\item 
void \hyperlink{core_8h_a00c5624939b8b646b8451d1e8e8a9f83}{within} (double n, const std\-::string \&fpt, const std\-::string \&fpoly, const std\-::string \&fo)
\begin{DoxyCompactList}\small\item\em W\-I\-T\-H\-I\-N\-\_\-n predicate checking. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Zhitao Gong \href{mailto:me@gongzhitaao.org}{\tt me@gongzhitaao.\-org} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
Mon Jun 3 14\-:07\-:10 2013 
\end{DoxyDate}


Definition in file \hyperlink{core_8h_source}{core.\-h}.



\subsection{Function Documentation}
\hypertarget{core_8h_a4366a6a6ce42b7da28efece3406bc93d}{\index{core.\-h@{core.\-h}!inside@{inside}}
\index{inside@{inside}!core.h@{core.\-h}}
\subsubsection[{inside}]{\setlength{\rightskip}{0pt plus 5cm}void inside (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{fpt, }
\item[{const std\-::string \&}]{fpoly, }
\item[{const std\-::string \&}]{fo}
\end{DoxyParamCaption}
)}}\label{core_8h_a4366a6a6ce42b7da28efece3406bc93d}

\begin{DoxyParams}{Parameters}
{\em fpt} & input point file \\
\hline
{\em fpoly} & input polygon file \\
\hline
{\em fo} & output file \\
\hline
\end{DoxyParams}


Definition at line 130 of file inside.\-cpp.


\begin{DoxyCode}
133 \{
134     \textcolor{keyword}{using namespace }SigSpatial2013;
135 
136     std::vector<PolygonSeq> polys;
137 
138     read\_polygon(fpoly, polys);
139 
140     std::ofstream(o, std::ios::out);
141     std::ofstream fo(o, std::ios::app);
142 
143     std::ifstream fin\_point(fpt);
144     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{bool} b = \textcolor{keyword}{true}; b; ) \{
145         std::vector<Key> v;
146         b = read\_point(fin\_point, v);
147 
148         Range\_tree\_2\_type tree(v.begin(), v.end());
149 
150         tbb::concurrent\_vector<Result> results;
151         tbb::parallel\_for((\textcolor{keywordtype}{size\_t})0, polys.size(), (size\_t)1,
152                           \hyperlink{structSigSpatial2013_1_1pip}{pip}(tree, polys, results));
153 
154         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < results.size(); ++i) \{
155             Result &r = results[i];
156             fo << r.first.first << \textcolor{charliteral}{':'} << r.first.second << \textcolor{charliteral}{':'}
157                << r.second.first << \textcolor{charliteral}{':'} << r.second.second << std::endl;
158         \}
159 
160     \}
161     fin\_point.close();
162     fo.close();
163 \}
\end{DoxyCode}
\hypertarget{core_8h_a00c5624939b8b646b8451d1e8e8a9f83}{\index{core.\-h@{core.\-h}!within@{within}}
\index{within@{within}!core.h@{core.\-h}}
\subsubsection[{within}]{\setlength{\rightskip}{0pt plus 5cm}void within (
\begin{DoxyParamCaption}
\item[{double}]{n, }
\item[{const std\-::string \&}]{fpt, }
\item[{const std\-::string \&}]{fpoly, }
\item[{const std\-::string \&}]{fo}
\end{DoxyParamCaption}
)}}\label{core_8h_a00c5624939b8b646b8451d1e8e8a9f83}

\begin{DoxyParams}{Parameters}
{\em n} & distance \\
\hline
{\em fpt} & input point file \\
\hline
{\em fpoly} & input polygon file \\
\hline
{\em fo} & output file \\
\hline
\end{DoxyParams}


Definition at line 189 of file within.\-cpp.


\begin{DoxyCode}
193 \{
194     \textcolor{keyword}{using namespace }SigSpatial2013;
195 
196     std::vector<PolygonSeq> polys;
197 
198     read\_polygon(fpoly, polys);
199 
200     std::ofstream(o, std::ios::out);
201     std::ofstream fo(o, std::ios::app);
202 
203     std::ifstream fin\_point(fpt);
204     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{bool} b = \textcolor{keyword}{true}; b; ) \{
205 
206         std::vector<Key> v;
207         b = read\_point(fin\_point, v);
208 
209         Range\_tree\_2\_type tree(v.begin(), v.end());
210 
211         tbb::concurrent\_vector<Result> results;
212         tbb::parallel\_for((\textcolor{keywordtype}{size\_t})0, polys.size(), (size\_t)1, \hyperlink{structSigSpatial2013_1_1within__n}{within\_n}(tree, polys, results, n));
213 
214         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < results.size(); ++i) \{
215             Result &r = results[i];
216             fo << r.first.first << \textcolor{charliteral}{':'} << r.first.second << \textcolor{charliteral}{':'}
217                << r.second.first << \textcolor{charliteral}{':'} << r.second.second << std::endl;
218         \}
219 
220     \}
221     fin\_point.close();
222     fo.close();
223 \}
\end{DoxyCode}
